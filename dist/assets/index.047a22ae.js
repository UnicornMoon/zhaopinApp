import{d as k,u as y,r as b,c as T,a as n,b as o,w as h,v as f,t as A,e as a,f as c,T as r,g as d,o as I,p as w,h as D,i as J,_ as V}from"./index.b59b35ee.js";import{g as E,l as M}from"./user.21f8ebd6.js";import"./request.9fb191dc.js";const _=i=>(w("data-v-a4cfbdd2"),i=i(),D(),i),N={class:"login-form"},z=_(()=>o("h3",null,"\u9A8C\u8BC1\u7801\u767B\u5F55",-1)),S={class:"login-form-item"},j=_(()=>o("i",{class:"icon-phone"},null,-1)),U={class:"login-form-item"},O=_(()=>o("i",{class:"icon-code"},null,-1)),X=c("\u767B\u5F55"),L={class:"login-form-label"},Y=c("\u6211\u5DF2\u9605\u8BFB"),Z=c("\u300AIT\u4F01\u4E1A\u5E73\u53F0\u670D\u52A1\u534F\u8BAE\u300B"),K=c("\u548C "),P=c("\u300A\u9690\u79C1\u653F\u7B56\u300B"),Q=k({__name:"index",setup(i){const l=y(),e=b({checked:!0,accounts:"",code:"",codeText:"\u83B7\u53D6\u9A8C\u8BC1\u7801",time:60,interTimeCode:null}),C=()=>history.back(),B=async()=>{if(e.interTimeCode)return;const t=await E({accounts:e.accounts});t&&(e.interTimeCode=setInterval(()=>{e.time--,e.time<=0?(clearInterval(e.interTimeCode),e.time=60,e.codeText="\u83B7\u53D6\u9A8C\u8BC1\u7801"):e.codeText="\u91CD\u65B0\u53D1\u9001("+e.time+"s)"},1e3),e.code=t.code)},p=J(),v=async()=>{if(!e.code){r("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801");return}if(!e.checked){r("\u8BF7\u52FE\u9009\u6211\u5DF2\u9605\u8BFB");return}var t=await M({accounts:e.accounts,code:e.code});t={errCode:200,msg:"\u767B\u5F55\u6210\u529F",data:{user_info:{accounts:"13121097759",id:67,user_name:"\u6155\u8BFE\u7F51",sex:2,birthday:"1970-2",pay_password:null,email:null,work_time:"1970-2",head_img:"http://api.share.zcwytd.com/public/defult_head/5.jpeg",idcard:null,account_price:4500,is_check:0,it_enterprise:1,enterprise:1,manage:0,role:1},token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NjcsInBob25lIjoiMTMxMjEwOTc3NTkiLCJleHAiOjE2Nzc2Mzg1NzQyMzF9.biXjKvXJgRYM4avMZJ_ZyTlm4gXxYmei_xP5SbezclY",exipreTime:1677638574231}},t.errCode===200?(l.setUserInfo(t.data),l.role==1&&p.push("/task"),l.role==3&&p.push("/talent")):r(t.msg)};return(t,u)=>{const g=d("van-icon"),F=d("van-button"),x=d("van-checkbox"),m=d("router-link");return I(),T("div",null,[n(g,{class:"icon-left",name:"arrow-left",onClickLeft:C}),o("div",N,[z,o("div",S,[j,h(o("input",{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7","onUpdate:modelValue":u[0]||(u[0]=s=>e.accounts=s),type:"text"},null,512),[[f,e.accounts]])]),o("div",U,[O,h(o("input",{placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801","onUpdate:modelValue":u[1]||(u[1]=s=>e.code=s),type:"text"},null,512),[[f,e.code]]),o("span",{onClick:B},A(e.codeText),1)]),n(F,{type:"primary",block:"",onClick:v},{default:a(()=>[X]),_:1}),o("div",L,[n(x,{modelValue:e.checked,"onUpdate:modelValue":u[2]||(u[2]=s=>e.checked=s)},{default:a(()=>[Y]),_:1},8,["modelValue"]),n(m,{to:"/login/serviceAgree"},{default:a(()=>[Z]),_:1}),K,n(m,{to:"/login/privacyPolicy"},{default:a(()=>[P]),_:1})])])])}}});const q=V(Q,[["__scopeId","data-v-a4cfbdd2"]]);export{q as default};
