import{d as v,r as m,G as F,c as B,a as i,b as e,e as h,F as E,T as u,g as p,o as b,w as g,v as x,t as y,l as C,p as I,h as S,_ as k}from"./index.b59b35ee.js";import{w}from"./my.3f31c08e.js";import{m as A}from"./my.6306223f.js";import"./request.9fb191dc.js";const r=o=>(I("data-v-f300acc1"),o=o(),S(),o),T={class:"advance"},N={class:"advance-amount"},U=r(()=>e("h5",null,"\u63D0\u73B0\u91D1\u989D",-1)),G=r(()=>e("span",null,"\uFFE5",-1)),L=r(()=>e("button",{class:"advance-btn","native-type":"submit"},"\u63D0\u73B0\u81F3\u652F\u4ED8\u5B9D",-1)),M=v({__name:"advance",setup(o){const c=A(),l=()=>history.back(),a=m({price:null,loading:!1}),_=async()=>{if(a.price<.1){u("\u63D0\u73B0\u91D1\u989D\u4E0D\u80FD\u5C0F\u4E8E0.1\u5143");return}const t=await w({price:a.price});t&&c.getUserInfo(),u(t.msg)},d=()=>{a.price=c.userInfo.account_price};return F(()=>a.price,(t,s)=>{if(parseFloat(t)<0){u("\u63D0\u73B0\u91D1\u989D\u4E0D\u80FD\u4E3A\u8D1F\u6570");return}if(parseFloat(t)>5e4){u("\u6BCF\u6B21\u63D0\u73B0\u91D1\u989D\u4E0D\u80FD\u8D85\u8FC750000");return}if(t){t=t.toString();let n=t.indexOf(".");if(n>0&&t.length-n>3){a.price=parseFloat(s);return}}}),(t,s)=>{const n=p("van-nav-bar"),D=p("van-form");return b(),B(E,null,[i(n,{title:"\u63D0\u73B0","left-arrow":"",onClickLeft:l}),e("div",T,[i(D,{onSubmit:_},{default:h(()=>[e("div",N,[U,e("div",null,[G,g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>a.price=f),type:"number"},null,512),[[x,a.price]])]),e("p",null,[e("span",null,"\u53EF\u63D0\u73B0\u4F59\u989D\uFFE5"+y(C(c).userInfo.account_price),1),e("label",{onClick:d},"\u5168\u90E8\u63D0\u73B0")])]),L]),_:1})])],64)}}});const H=k(M,[["__scopeId","data-v-f300acc1"]]);export{H as default};
