import{b as g,d as v}from"./my.3f31c08e.js";import{d as B,r as C,o as E,c as D,a as d,b as r,t as b,g as m,_ as f,F as h,p as A,h as k,T as s}from"./index.b59b35ee.js";import"./request.9fb191dc.js";const x=B({__name:"UploadImage",props:{text:{type:String}},emits:["uploadChange"],setup(n,{emit:u}){const p=n,t=C({fileList:[]}),c=()=>{t.fileList=[]},i=async e=>{e.status="uploading",e.message="\u4E0A\u4F20\u4E2D...";let a=new FormData;a.append("user","test"),a.append("file",e.file);const o=await g(a);e.url=o.imageUrl,e.status="done",e.message="\u4E0A\u4F20\u6210\u529F",t.fileList=[e],u("uploadChange",o.imageUrl)};return(e,a)=>{const o=m("van-uploader");return E(),D("div",null,[d(o,{modelValue:t.fileList,"onUpdate:modelValue":a[0]||(a[0]=l=>t.fileList=l),accept:".jpg,.png","after-read":i,"before-delete":c,"max-count":"1"},null,8,["modelValue"]),r("p",null,b(p.text),1)])}}});const F=f(x,[["__scopeId","data-v-da11a77e"]]),V=n=>(A("data-v-d7e883af"),n=n(),k(),n),y=V(()=>r("h3",null,"\u8BF7\u5982\u5B9E\u586B\u5199\u4FE1\u606F\uFF0C\u5E73\u53F0\u627F\u8BFA\u4FDD\u969C\u5BA2\u6237\u7684\u4FE1\u606F\u5B89\u5168",-1)),U={class:"auth-pic"},I=B({__name:"authReal",setup(n){const u=C({name:"",number:"",idCardJust:"",idCardBack:""}),p=async()=>{if(!u.name){s("\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D");return}if(!u.number){s("\u8BF7\u8F93\u5165\u8BC1\u4EF6\u53F7\u7801");return}if(!u.idCardJust){s("\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u6B63\u9762");return}if(!u.idCardBack){s("\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53CD\u9762");return}await v({user_name:u.name,cert_no:u.number,idCard_just:u.idCardJust,idCard_back:u.idCardBack})?(t(),s("\u4FDD\u5B58\u6210\u529F")):s("\u4FDD\u5B58\u5931\u8D25")},t=()=>{history.back()},c=e=>{u.idCardJust=e},i=e=>{u.idCardBack=e};return(e,a)=>{const o=m("van-nav-bar"),l=m("van-field");return E(),D(h,null,[d(o,{title:"\u5B9E\u540D\u8BA4\u8BC1","left-arrow":"",onClickLeft:t}),y,d(l,{modelValue:u.name,"onUpdate:modelValue":a[0]||(a[0]=_=>u.name=_),label:"\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D"},null,8,["modelValue"]),d(l,{modelValue:u.number,"onUpdate:modelValue":a[1]||(a[1]=_=>u.number=_),label:"\u8BC1\u4EF6\u53F7\u7801",placeholder:"\u8BF7\u8F93\u5165\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"]),r("div",U,[d(F,{text:"\u4E0A\u4F20\u8EAB\u4EFD\u8BC1\u6B63\u9762\u7167",onUploadChange:c}),d(F,{text:"\u4E0A\u4F20\u8EAB\u4EFD\u8BC1\u53CD\u9762\u7167",onUploadChange:i})]),r("button",{class:"wy-submit",onClick:p},"\u63D0\u4EA4\u5B9E\u540D\u8BA4\u8BC1")],64)}}});const R=f(I,[["__scopeId","data-v-d7e883af"]]);export{R as default};
